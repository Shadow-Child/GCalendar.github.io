<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./ressources/style.css">
    <script src="https://accounts.google.com/gsi/client"></script>

    <title>Document</title>
</head>
<body>
    <div class="content">
        
        <h1 class="headline" id="text">Google Calendar API</h1>
        <p>This web app lets you see, record and edit how many hours you spend on projects and tasks.
        It uses the Google Calendar API to fetch your calendars and events,
        crunches the data and displays it nicely.</p>

        <p>You need to authorize the app with the following link:</p>

       
        <div id="ButtonDiv" onclick="client.requestAccessToken();">
            <img src="./ressources/images/IOS_Google_icon.png" style="padding:3px;width:39px">
            <span>Connect with Google</span>
        </div>
    
        
        
        <h2 class="headline">Privacy Policy</h2>
        <p> This app connects to the Google Calendar API to fetch your calendars and events,
            so that it can calculate events hours.
            This connection happens directly from your browser to the Google API.
            There are no server or services involved that might cache the data.</p>
        <p>This app only has read-only access to your calendar data</p>
    </div>
    
<script>
        var client = 
          google.accounts.oauth2.initTokenClient({
          client_id: '224471295423-7l60qiok5f43gttir3sa96cmnihtoa60.apps.googleusercontent.com',
          scope: 'https://www.googleapis.com/auth/calendar',
          redirect_uri:"https://shadow-child.github.io/GCalendar.github.io/redirect.html",
          callback: (response)=>{
              console.log(response);
              }    
          });      
</script>

    <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
    <script src="./js/main.js" async defer></script>
</body>
</html>
